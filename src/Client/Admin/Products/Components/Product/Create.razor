@using MudBlazor
@using Blazored.FluentValidation

<MudText Typo="Typo.h3">Create</MudText>

<MudForm Model="@Product" @ref="@form">
    <FluentValidationValidator />
    <MudTextField @bind-Value="Product.Name" For="@(() => Product.Name)" Label="Name" />
    <MudTextField @bind-Value="Product.Description" For="@(() => Product.Description)" Label="Description" Lines="3" />
    <MudNumericField @bind-Value="Product.Price" For="@(() => Product.Price)" Label="Price" />
    <MudNumericField @bind-Value="Product.QuantityInStock" For="@(() => Product.QuantityInStock)" Label="Quantity" />
    <MudNumericField @bind-Value="Product.MinimumUnits" For="@(() => Product.MinimumUnits)" Label="Minimum units to order" />

    <MudText Typo="Typo.h5">Image in index page</MudText>
    <MudFileUpload T="IBrowserFile" FilesChanged="UploadImage">
        <ButtonTemplate>
            <MudButton HtmlTag="label"
                       Variant="Variant.Filled"
                       Color="Color.Primary"
                       StartIcon="@Icons.Material.Filled.CloudUpload"
                       for="@context">
                Upload Picture
            </MudButton>
        </ButtonTemplate>
    </MudFileUpload>

    <MudCardActions>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" StartIcon="@Icons.Material.Filled.Save" OnClick="@(() => CreateProductAsync())">
            Save
        </MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Cancel" OnClick="@(()=>Close())">
            Cancel
        </MudButton>
    </MudCardActions>
</MudForm>

@code {

}
